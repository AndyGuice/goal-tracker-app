(this["webpackJsonpgoaltracker-client"]=this["webpackJsonpgoaltracker-client"]||[]).push([[0],{157:function(e,t,a){e.exports=a(192)},167:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),l=a.n(o),c=a(17),i=a(67),s=a(115),u=(a(167),a(11)),d="ERROR",m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH":return localStorage.setItem("profile",JSON.stringify(Object(u.a)({},null===t||void 0===t?void 0:t.data))),Object(u.a)(Object(u.a)({},e),{},{authData:null===t||void 0===t?void 0:t.data,loading:!1,errors:null});case"LOGOUT":return localStorage.clear(),Object(u.a)(Object(u.a)({},e),{},{authData:null,loading:!1,errors:null});default:return e}},p=a(65),g=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{error:null},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case d:return Object(u.a)(Object(u.a)({},t),{},{error:null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.error});default:return t}},b=Object(i.b)({auth:m,goals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,goals:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0});case"END_LOADING":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1});case"FETCH_ALL":case"FETCH_GOALS":return Object(u.a)(Object(u.a)({},e),{},{goals:t.payload.data});case"FETCH_GOAL":return Object(u.a)(Object(u.a)({},e),{},{goal:t.payload.goal});case"CREATE":return Object(u.a)(Object(u.a)({},e),{},{goals:[].concat(Object(p.a)(e.goals),[t.payload])});case"UPDATE_GOAL_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{updateSuccessful:null===t||void 0===t?void 0:t.payload});case"DELETE_GOAL":return Object(u.a)(Object(u.a)({},e),{},{goals:e.goals.filter((function(e){return e._id!==t.payload}))});case"DELETE_GOAL_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{deleteSuccessful:null===t||void 0===t?void 0:t.payload});default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,tasks:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0});case"END_LOADING":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1});case"FETCH_TASKS":return Object(u.a)(Object(u.a)({},e),{},{tasks:t.payload.data});case"CREATE":return Object(u.a)(Object(u.a)({},e),{},{tasks:[].concat(Object(p.a)(e.tasks),[t.payload])});case"DELETE_TASK":return Object(u.a)(Object(u.a)({},e),{},{tasks:e.tasks.filter((function(e){return e._id!==t.payload}))});case"DELETE_TASK_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{deleteSuccessful:null===t||void 0===t?void 0:t.payload});default:return e}},error:g}),f=a(45),E=a(257),O=a(134),h=a(12),v=a(248),j=a(249),y=a(246),k=a(68),S=a(247),C=a(245),w=a(135),N=a(121),x=a.n(N),T=a(120),D=a.n(T),A=a(266),L=a(92),I=a.n(L),_=a(93),G=a.n(_),U=a(122),P=a.n(U),R=a(250),F=a(23),H=a(16),z=a(243),W=a(238),B=a(268),J=a(262),M=a(91),V=a.n(M),K=a(240),q=a(194),Z=a(241),Q=a(242),X=a(236),Y=a(265),$=a(24),ee=Object(X.a)((function(e){return Object(Y.a)({root:{display:"flex"},drawer:Object(F.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(F.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(F.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)}})}));function te(e){var t=e.open,a=e.onChange,n=ee(),o=Object($.a)(),l=Object(H.g)(),c=function(e){a(e)},i=r.a.createElement("div",null,r.a.createElement("div",{className:n.toolbar}),r.a.createElement(W.a,null),r.a.createElement(K.a,null,r.a.createElement(q.a,{button:!0,onClick:function(){return l.push("/dashboard")}},r.a.createElement(Z.a,null,r.a.createElement(V.a,null)),r.a.createElement(Q.a,{primary:"Dashboard"})),r.a.createElement(q.a,{button:!0,onClick:function(){return l.push("/goals")}},r.a.createElement(Z.a,null,r.a.createElement(V.a,null)),r.a.createElement(Q.a,{primary:"Setup"}))));return r.a.createElement("div",{className:n.root},r.a.createElement(z.a,null),r.a.createElement("nav",{className:n.drawer,"aria-label":"mailbox folders"},r.a.createElement(J.a,{smUp:!0,implementation:"css"},r.a.createElement(B.a,{variant:"temporary",anchor:"rtl"===o.direction?"right":"left",open:t,onClick:function(e){return c(!t)},classes:{paper:n.drawerPaper},ModalProps:{keepMounted:!0}},i)),r.a.createElement(J.a,{xsDown:!0,implementation:"css"},r.a.createElement(B.a,{classes:{paper:n.drawerPaper},variant:"temporary",open:t,onClick:function(e){return c(!t)}},i))))}var ae=Object(X.a)((function(e){return Object(Y.a)({grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(F.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),inputRoot:{color:"inherit"},inputInput:Object(F.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(F.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(F.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})})})),ne=a(119);function re(){var e=Object(H.h)(),t=Object(H.g)(),a=Object(c.b)(),o=localStorage.getItem("profile"),l=Object(n.useState)(JSON.parse(o)),i=Object(h.a)(l,2),s=i[0],u=i[1],d=function(){a({type:"LOGOUT"}),t.push("/"),u(null),f(null),J()};Object(n.useEffect)((function(){var e=null===s||void 0===s?void 0:s.token;e&&(1e3*Object(ne.a)(e).exp<(new Date).getTime()&&d());u(JSON.parse(o))}),[e]);var m=ae(),p=r.a.useState(null),g=Object(h.a)(p,2),b=g[0],f=g[1],E=r.a.useState(null),O=Object(h.a)(E,2),N=O[0],T=O[1],L=Object(n.useState)(!1),_=Object(h.a)(L,2),U=_[0],F=_[1],z=Boolean(b),W=Boolean(N),B=function(e){f(e.currentTarget)},J=function(){T(null)},M=function(){f(null),J()},V="primary-search-account-menu",K=r.a.createElement(w.a,{anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},id:V,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:z},r.a.createElement(C.a,{onClick:M},"Profile"),r.a.createElement(C.a,{onClick:M},"My account"),r.a.createElement(C.a,{onClick:d},"Log out")),q=r.a.createElement(w.a,{anchorEl:N,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:W,onClose:J},r.a.createElement(C.a,null,r.a.createElement(y.a,{"aria-label":"show 4 new mails",color:"inherit"},r.a.createElement(S.a,{badgeContent:4,color:"secondary"},r.a.createElement(I.a,null))),r.a.createElement("p",null,"Messages")),r.a.createElement(C.a,null,r.a.createElement(y.a,{"aria-label":"show 11 new notifications",color:"inherit"},r.a.createElement(S.a,{badgeContent:11,color:"secondary"},r.a.createElement(G.a,null))),r.a.createElement("p",null,"Notifications")),r.a.createElement(C.a,{onClick:B},r.a.createElement(y.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(D.a,null)),r.a.createElement("p",null,"Profile")),r.a.createElement(C.a,{onClick:d},r.a.createElement(y.a,null,r.a.createElement(A.a,{alt:null===s||void 0===s?void 0:s.result.name,src:null===s||void 0===s?void 0:s.result.imageUrl},null===s||void 0===s?void 0:s.result.name.charAt(0))),r.a.createElement("p",null,"Logout")));return r.a.createElement("div",{className:m.grow},r.a.createElement(v.a,{position:"static"},r.a.createElement(j.a,null,r.a.createElement(y.a,{edge:"start",className:m.menuButton,color:"inherit","aria-label":"open drawer",onClick:function(){return F(!0)}},r.a.createElement(x.a,null)),r.a.createElement(k.a,{className:m.title,variant:"h6",noWrap:!0},"Goal Tracker"),r.a.createElement(te,{open:U,onChange:function(e){F(e)}}),r.a.createElement("div",{className:m.grow}),(null===s||void 0===s?void 0:s.result)?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:m.sectionDesktop},r.a.createElement(y.a,{"aria-label":"show 4 new mails",color:"inherit"},r.a.createElement(S.a,{badgeContent:4,color:"secondary"},r.a.createElement(I.a,null))),r.a.createElement(y.a,{"aria-label":"show 17 new notifications",color:"inherit"},r.a.createElement(S.a,{badgeContent:17,color:"secondary"},r.a.createElement(G.a,null))),r.a.createElement(y.a,{edge:"end","aria-label":"account of current user","aria-controls":V,"aria-haspopup":"true",onClick:B,color:"inherit"},r.a.createElement(A.a,{alt:null===s||void 0===s?void 0:s.result.name,src:null===s||void 0===s?void 0:s.result.imageUrl},null===s||void 0===s?void 0:s.result.name.charAt(0)))),r.a.createElement("div",{className:m.sectionMobile},r.a.createElement(y.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){T(e.currentTarget)},color:"inherit"},r.a.createElement(P.a,null)))):r.a.createElement(R.a,{color:"secondary",variant:"contained",onClick:function(){return t.push("/loginUser")}},"Sign In"))),q,K)}var oe=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(re,null),t)},le=a(255),ce=a(95),ie=a(251),se=a(123),ue=a(25),de=a.n(ue),me=a(51),pe=a(124),ge=a.n(pe).a.create({baseURL:"http://localhost:5000"});ge.interceptors.request.use((function(e){if(localStorage.getItem("profile")){var t=localStorage.getItem("profile")||"";e.headers.Authorization="Bearer ".concat(JSON.parse(t).token)}return e})),ge.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status?window.location.assign("/loginUser"):500===e.response.status&&alert("Server error"),e}));var be=function(e){return ge.post("/user/signin",e)},fe=function(e){return ge.post("/user/signup",e)},Ee=function(e){return ge.get("/goals/".concat(e))},Oe=function(e){return ge.post("/goals",e)},he=function(e){return ge.delete("/goals/".concat(e))},ve=Object(X.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)},alert:{backgroundColor:"#f50057"}}})),je=a(258),ye=a(252),ke=a(125),Se=a.n(ke),Ce=a(126),we=a.n(Ce),Ne=function(e){var t=e.name,a=e.handleChange,n=e.label,o=e.half,l=e.autoFocus,c=e.type,i=e.handleShowPassword;return r.a.createElement(ie.a,{item:!0,xs:12,sm:o?6:12},r.a.createElement(je.a,{color:"primary",name:t,onChange:a,variant:"outlined",fullWidth:!0,label:n,autoFocus:l,type:c,InputProps:"password"===t||"confirmPassword"===t?{endAdornment:r.a.createElement(ye.a,{position:"end"},r.a.createElement(y.a,{onClick:i},"password"===c?r.a.createElement(Se.a,null):r.a.createElement(we.a,null)))}:r.a.createElement(r.a.Fragment,null)}))},xe=a(264),Te=a(261),De=function(e){return r.a.createElement(Te.a,Object.assign({elevation:6,variant:"filled"},e))},Ae=a(253),Le=a(254),Ie=function(e){var t=e.open,a=e.onClose,n=e.error;return r.a.createElement(Ae.a,{open:t,onClose:a},r.a.createElement(Le.a,null,"Error"),r.a.createElement(k.a,{style:{padding:10}},"Error: ",n))},_e={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},Ge=function(){var e=Object(c.c)((function(e){return e.error})).error,t=Object(n.useState)(_e),a=Object(h.a)(t,2),o=a[0],l=a[1],i=Object(c.b)(),s=Object(H.g)(),m=ve(),p=Object(n.useState)(!1),g=Object(h.a)(p,2),b=g[0],f=g[1],E=Object(n.useState)(!1),O=Object(h.a)(E,2),v=O[0],j=O[1],y=Object(n.useState)(""),S=Object(h.a)(y,2),C=S[0],w=S[1],N=Object(n.useState)(!1),x=Object(h.a)(N,2),T=x[0],D=x[1];Object(n.useEffect)((function(){e&&(j(!0),w(e),D(!0),i({type:d,data:null}))}),[e]);var A=function(e,t){"clickaway"!==t&&j(!1)},L=function(e){var t,a;e.preventDefault(),i((t=o,a=s,function(){var e=Object(me.a)(de.a.mark((function e(n){var r,o;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be(t);case 3:if(r=e.sent,!(null===(o=r.data)||void 0===o?void 0:o.error)){e.next=8;break}return n({type:d,data:o}),e.abrupt("return",a.push("/loginUser"));case 8:n({type:"AUTH",data:o}),a.push("/dashboard"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()))},I=function(e){return l(Object(u.a)(Object(u.a)({},o),{},Object(F.a)({},e.target.name,e.target.value)))};return r.a.createElement(le.a,{component:"main",maxWidth:"xs",style:{marginTop:"80px"}},r.a.createElement(Ie,{open:T,onClose:function(){D(!1)},error:C}),r.a.createElement(ce.a,{className:m.paper,elevation:6},r.a.createElement(k.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:m.form,onSubmit:L},r.a.createElement(ie.a,{container:!0,spacing:2},r.a.createElement(Ne,{name:"email",label:"Email Address",handleChange:I,type:"email"}),r.a.createElement(Ne,{name:"password",label:"Password",handleChange:I,type:b?"text":"password",handleShowPassword:function(){return f(!b)}})),r.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",className:m.submit,onClick:function(e){return L(e)}},"Sign In"),r.a.createElement(se.GoogleLogin,{clientId:"474583811201-dg63v9itffp96j4mgklvntuk1ss6ri0k.apps.googleusercontent.com",render:function(e){return r.a.createElement(R.a,{className:m.googleButton,color:"primary",fullWidth:!0,onClick:e.onClick,disabled:e.disabled,variant:"contained"},"Google Sign In")},onSuccess:function(t){var a=t.profileObj,n=t.tokenId;try{i({type:"AUTH",data:{result:a,token:n}}),s.push("/dashboard")}catch(e){console.log(e)}},onFailure:function(){return console.log("Unable to sign in via Google at this time. Please try again later")},cookiePolicy:"single_host_origin"}),r.a.createElement(ie.a,{container:!0,justifyContent:"flex-end"},r.a.createElement(ie.a,{item:!0},r.a.createElement(R.a,{onClick:function(){return s.push("/register")},color:"primary"},"Don't have an account? Sign Up"))))),r.a.createElement(xe.a,{open:v,autoHideDuration:6e3,onClose:A},r.a.createElement(De,{onClose:A,severity:"info",className:m.alert},"Invalid Credentials")))},Ue=a(128),Pe=a.n(Ue),Re=a(127),Fe={firstName:"",lastName:"",email:"",password:"",confirmPassword:""},He=function(){var e=Object(c.c)((function(e){return e.error})).error,t=Object(n.useState)(Fe),a=Object(h.a)(t,2),o=a[0],l=a[1],i=Object(c.b)(),s=Object(H.g)(),m=ve(),p=Object(n.useState)(!1),g=Object(h.a)(p,2),b=g[0],f=g[1],E=Object(n.useState)(!1),O=Object(h.a)(E,2),v=O[0],j=O[1];Object(n.useEffect)((function(){e&&j(!0)}),[e]);var y=function(e,t){"clickaway"!==t&&(i({type:d,data:null}),j(!1))},S=function(e){return l(Object(u.a)(Object(u.a)({},o),{},Object(F.a)({},e.target.name,e.target.value)))};return r.a.createElement(le.a,{component:"main",maxWidth:"xs",style:{marginTop:"80px"}},r.a.createElement(ce.a,{className:m.paper,elevation:6},r.a.createElement(A.a,{className:m.avatar},r.a.createElement(Pe.a,null)),r.a.createElement(k.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:m.form,onSubmit:function(e){return e.preventDefault(),o.password!==o.confirmPassword?i({type:d,data:{error:"Passwords are not equal"}}):Re.validate(o.email)?void i((t=o,a=s,function(){var e=Object(me.a)(de.a.mark((function e(n){var r,o;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe(t);case 3:if(r=e.sent,!(null===(o=r.data)||void 0===o?void 0:o.error)){e.next=8;break}return n({type:d,data:o}),e.abrupt("return",a.push("/register"));case 8:n({type:"AUTH",data:o}),a.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}())):i({type:d,data:{error:"Wrong email format"}});var t,a}},r.a.createElement(ie.a,{container:!0,spacing:2},r.a.createElement(Ne,{name:"firstName",label:"First Name",handleChange:S,autoFocus:!0,half:!0}),r.a.createElement(Ne,{name:"lastName",label:"Last Name",handleChange:S,half:!0}),r.a.createElement(Ne,{name:"email",label:"Email Address",handleChange:S,type:"email"}),r.a.createElement(Ne,{name:"password",label:"Password",handleChange:S,type:b?"text":"password",handleShowPassword:function(){return f(!b)}}),r.a.createElement(Ne,{name:"confirmPassword",label:"Repeat Password",handleChange:S,type:b?"text":"password",handleShowPassword:function(){return f(!b)}})),r.a.createElement(R.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:m.submit},"Sign Up"),r.a.createElement(ie.a,{container:!0,justify:"flex-end"},r.a.createElement(ie.a,{item:!0},r.a.createElement(R.a,{onClick:function(){return s.push("/loginUser")},color:"primary"},"Already have an account? Sign in"))))),r.a.createElement(xe.a,{open:v,autoHideDuration:6e3,onClose:y},r.a.createElement(De,{onClose:y,severity:"info",className:m.alert},e)))},ze=a(260),We=a(82),Be=function e(){Object(We.a)(this,e),this._id="",this.userId="",this.title="",this.description="",this.createdOn="",this.updatedOn="",this.startOn="",this.endOn="",this.active=!1,this.tasks=[]},Je=function(e){return function(){var t=Object(me.a)(de.a.mark((function t(a){var n,r;return de.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"START_LOADING"}),t.next=4,o=e,ge.get("/goals/users/".concat(o));case 4:n=t.sent,r=n.data.data,a({type:"FETCH_GOALS",payload:{data:r}}),a({type:"END_LOADING"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}var o}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Me=function(e,t){return function(){var t=Object(me.a)(de.a.mark((function t(a){var n,r;return de.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"START_LOADING"}),t.next=4,o=e._id,l=e,ge.patch("/goals/".concat(o),l);case 4:n=t.sent,(null===(r=n.data)||void 0===r?void 0:r.error)&&a({type:d,data:r}),a({type:"UPDATE_GOAL",payload:r}),a({type:"UPDATE_GOAL_SUCCESS",payload:!0}),a({type:"END_LOADING"}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}var o,l}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},Ve=Object(X.a)((function(e){return Object(Y.a)(Object(F.a)({loadingPaper:{display:"flex",justifyContent:"center",alignItems:"center",height:"75vh",width:"100%",marginTop:"20px"},title:{fontSize:10},paper:{display:"flex",flexDirection:"row"},button:{margin:10},alert:{backgroundColor:"#f50060"}},e.breakpoints.down("xs"),{}))})),Ke=function(){var e=Ve(),t=Object(H.g)(),a=Object(c.b)(),o=Object(c.c)((function(e){return e.error})).error,l=Object(n.useState)(!1),i=Object(h.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(""),p=Object(h.a)(m,2),g=p[0],b=p[1],f=Object(n.useState)(""),E=Object(h.a)(f,2),O=E[0],v=E[1],j=localStorage.getItem("profile"),y=Object(n.useState)(JSON.parse(j)),S=Object(h.a)(y,1)[0];Object(n.useEffect)((function(){o&&u(!0)}),[o]);var C=function(e){return 0===e.title.trim().length?{ok:!1,error:"No goal title"}:0===e.description.trim().length?{ok:!1,error:"No goal description"}:{ok:!0}},w=function(e,t){"clickaway"!==t&&(a({type:d,data:null}),u(!1))};return r.a.createElement(ie.a,{container:!0,justifyContent:"center",component:"main"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=S.result,r=n.googleId,o=new Be,l=(new Date).toISOString();o.title=g.trim(),o.description=O.trim(),o.userId=r||n._id,o.createdOn=l,o.updatedOn=l;var c=C(o);if(!c.ok)return a({type:d,data:{error:c.error}});a(function(e,t){return function(){var a=Object(me.a)(de.a.mark((function a(n){var r,o;return de.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"START_LOADING"}),a.next=4,Oe(e);case 4:if(r=a.sent,!(null===(o=r.data)||void 0===o?void 0:o.error)){a.next=9;break}return n({type:d,data:o}),a.abrupt("return",t.push("/addGoal"));case 9:return n({type:"END_LOADING"}),n({type:"CREATE",payload:o}),a.abrupt("return",t.push("/goals"));case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0);case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e){return a.apply(this,arguments)}}()}(o,t))}},r.a.createElement(ce.a,{className:e.paper,elevation:6},r.a.createElement(ie.a,{item:!0,xs:12},r.a.createElement(k.a,{id:"goal-add-button",component:"h2",variant:"h5",align:"center",gutterBottom:!0},"Add Goal"),r.a.createElement(je.a,{id:"goal-title-input",onChange:function(e){b(e.target.value)},value:g,label:"Goal Name",placeholder:"Enter goal name",fullWidth:!0,className:e.button}),r.a.createElement(je.a,{id:"goal-description-input",onChange:function(e){v(e.target.value)},label:"Goal Description",value:O,placeholder:"Enter goal description",fullWidth:!0,className:e.button}),r.a.createElement(ze.a,{textAlign:"center"},r.a.createElement(R.a,{type:"submit",variant:"contained",color:"primary",style:{margin:10,marginTop:20}},"Submit"))))),r.a.createElement(xe.a,{open:s,autoHideDuration:6e3,onClose:w},r.a.createElement(De,{onClose:w,severity:"warning",className:e.alert},o)))},qe=a(256),Ze=function(){var e=Object(H.i)().id,t=Ve(),a=(Object(H.g)(),Object(c.b)()),o=Object(c.c)((function(e){return e.goals})),l=o.goal,i=o.isLoading,s=Object(c.c)((function(e){return e.error})).error,u=l||{title:"",description:""},m=u.title,p=u.description,g=Object(n.useState)(!1),b=Object(h.a)(g,2),f=b[0],E=b[1],O=Object(n.useState)(m),v=Object(h.a)(O,2),j=v[0],y=v[1],S=Object(n.useState)(p),C=Object(h.a)(S,2),w=C[0],N=C[1],x=localStorage.getItem("profile"),T=Object(n.useState)(JSON.parse(x)),D=Object(h.a)(T,1)[0];Object(n.useEffect)((function(){s&&E(!0)}),[s]),Object(n.useEffect)((function(){a(function(e){return function(){var t=Object(me.a)(de.a.mark((function t(a){var n,r;return de.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"START_LOADING"}),t.next=4,Ee(e);case 4:n=t.sent,r=n.data,a({type:"FETCH_GOAL",payload:{goal:r}}),a({type:"END_LOADING"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[]),Object(n.useEffect)((function(){y(m),N(p)}),[p,m]);var A=function(e,t){"clickaway"!==t&&(a({type:d,data:null}),E(!1))},L=function(e){return 0===e.title.trim().length?{ok:!1,error:"No goal name"}:0===e.description.trim().length?{ok:!1,error:"No goal description"}:{ok:!0}};return i?r.a.createElement(ie.a,{container:!0,component:"main",style:{marginTop:"100px"}},r.a.createElement(ce.a,{elevation:6,className:t.loadingPaper,style:{marginTop:"80px"}},r.a.createElement(qe.a,{size:"7em",color:"secondary"}))):r.a.createElement(ie.a,{container:!0,justifyContent:"center",component:"main"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var n=new Be;n.title=j.trim(),n.description=w.trim(),n.userId=D.result._id,n._id=e,n.updatedOn=(new Date).toISOString();var r=L(n);if(!r.ok)return a({type:d,data:{error:r.error}});a(Me(n))}},r.a.createElement(ce.a,{className:t.paper,elevation:6},r.a.createElement(ie.a,{item:!0,xs:12},r.a.createElement(k.a,{id:"goal-edit-button",component:"h2",variant:"h5",align:"center",gutterBottom:!0},"Edit Goal"),r.a.createElement(je.a,{id:"goal-title-input",label:"Goal Title",onChange:function(e){y(e.target.value)},value:j,placeholder:"Goal name",fullWidth:!0,className:t.button}),r.a.createElement(je.a,{id:"goal-description-input",label:"Goal Description",onChange:function(e){N(e.target.value)},value:w,placeholder:"Goal description",fullWidth:!0,className:t.button}),r.a.createElement(ze.a,{textAlign:"center"},r.a.createElement(R.a,{variant:"contained",color:"primary",type:"submit",style:{marginTop:20}},"Save goal"))))),r.a.createElement(xe.a,{open:f,autoHideDuration:6e3,onClose:A},r.a.createElement(De,{onClose:A,severity:"warning",className:t.alert},s)))},Qe=a(83),Xe=a.n(Qe),Ye=a(130),$e=a.n(Ye),et=function e(){Object(We.a)(this,e),this.title="",this.description="",this.goalId="",this.startOn="",this.endOn="",this.createdOn="",this.updatedOn="",this.datesCompleted=[]},tt=Object(X.a)((function(e){return Object(Y.a)({button:{},paper:{display:"flex",flexDirection:"row",padding:e.spacing(1),marginLeft:e.spacing(2),border:"1px solid black",backgroundColor:"#eeeeee"},input:{padding:e.spacing(1)}})})),at=function(e){var t=e.goal,a=e.task,o=e.onCancel,l=e.onUpdate,i=t||{goal:{}},s=i._id,u=(i.userId,a||{task:{}}),d=u.title,m=u.description,p=Object(n.useState)(d),g=Object(h.a)(p,2),b=g[0],f=g[1],E=Object(n.useState)(m),O=Object(h.a)(E,2),v=O[0],j=O[1],y=tt();Object(c.b)(),Object(H.g)();return r.a.createElement(ce.a,{className:y.paper},r.a.createElement(ie.a,{xs:12},r.a.createElement(je.a,{id:"new task title","aria-label":"New task title",label:"Title",value:b,variant:"outlined",className:y.button,size:"small",onChange:function(e){return f(e.target.value)}}),r.a.createElement(je.a,{id:"new task description","aria-label":"New task description",label:"Description",value:v,variant:"outlined",className:y.button,size:"small",onChange:function(e){return j(e.target.value)}}),r.a.createElement(R.a,{id:"cancel-task-button","aria-label":"Cancel task button",variant:"outlined",onClick:function(){o()},size:"small",style:{color:"red"},className:y.button},"Cancel"),r.a.createElement(R.a,{id:"save-task-button","aria-label":"Save task button",color:"primary",variant:"outlined",onClick:function(e){e.preventDefault();var a=new et,n=(new Date).toISOString();a.title=b.trim(),a.description=v.trim(),a.createdOn=n,a.updatedOn=n,a.goalId=s;var r=t;r.tasks.push(a),l(r)},size:"small",className:y.button},"Save")))},nt=a(129),rt=a.n(nt),ot=a(263),lt=function(e){var t=e.goal,a=e.task,o=e.configView,l=e.date,c=e.onUpdate,i=a.title,s=a.description,u=a._id,d=a.datesCompleted,m=void 0===d?[]:d,g=Object(n.useState)(i),b=Object(h.a)(g,2),f=b[0],E=b[1],O=Object(n.useState)(s),v=Object(h.a)(O,2),j=v[0],k=v[1],S=Object(n.useState)(!1),C=Object(h.a)(S,2),w=C[0],N=C[1],x=tt(),T=localStorage.getItem("profile"),D=JSON.parse(T);Object(n.useEffect)((function(){m.includes(l)?N(!0):N(!1)}),[l]);return r.a.createElement(ce.a,{className:x.paper},r.a.createElement(ie.a,{item:!0,xs:6},r.a.createElement(je.a,{id:"Task title","aria-label":"Task title",value:f,className:x.input,label:"Task Name",size:"small",onChange:function(e){return E(e.target.value)}}),r.a.createElement(je.a,{id:"Task description","aria-label":"Task description",value:j,className:x.input,label:"Task Description",size:"small",onChange:function(e){return k(e.target.value)}}),!o&&r.a.createElement(ot.a,{checked:w,onClick:function(){return function(e){N(e);var n=a;if(e)n.datesCompleted=[].concat(Object(p.a)(m),[l]);else{var r=n.datesCompleted.filter((function(e){return e!==l}));n.datesCompleted=r}c(t)}(!w)}}),D&&0!==Object.keys(D).length&&o&&r.a.createElement(y.a,{title:"Delete task","aria-label":"Delete task",onClick:function(){return function(e){var a=t,n=t.tasks.filter((function(t){return t._id!==e}));a.tasks=n,c(a)}(u)},className:x.button},r.a.createElement(Xe.a,{color:"secondary"}))))},ct=function(e){var t=e.tasks,a=e.configView,n=e.date,o=e.goal,l=e.onUpdate;return t&&t.length>0&&t.map((function(e,t){return r.a.createElement(lt,{goal:o,task:e,key:t,configView:a,date:n,onUpdate:l})}))},it=function(e){var t=e.goal,a=e.configView,o=e.date,l=e.onUpdate,i=t.title,s=t.userId,u=t._id,d=t.tasks,m=Ve(),p=Object(H.g)(),g=Object(c.b)(),b=Object(n.useState)(!1),f=Object(h.a)(b,2),E=f[0],O=f[1],v=localStorage.getItem("profile"),j=JSON.parse(v),S=(j||{result:{}}).result||{googleId:{},_id:{}},C=S.googleId,w=S._id,N=C||w;return r.a.createElement(ie.a,{item:!0,xs:12},r.a.createElement(ce.a,{className:m.paper},r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"}},r.a.createElement(rt.a,null),r.a.createElement(k.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{paddingLeft:5}},i)),j&&0!==Object.keys(j).length&&N===s&&a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{id:"Add task button","aria-label":"add task",color:"primary",variant:"outlined",onClick:function(){return O(!E)},className:m.button},"Add Task"),r.a.createElement(y.a,{title:"Edit goal","aria-label":"edit goal",onClick:function(){return p.push("/editGoal/".concat(u))},className:m.button},r.a.createElement($e.a,{color:"secondary"})),r.a.createElement(y.a,{title:"Delete goal","aria-label":"delete goal",onClick:function(){return g(function(e,t){return function(){var a=Object(me.a)(de.a.mark((function a(n){return de.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"START_LOADING"}),a.next=4,he(e);case 4:return n({type:"DELETE_GOAL",payload:e}),n({type:"DELETE_GOAL_SUCCESS",payload:!0}),n({type:"END_LOADING"}),a.abrupt("return",t.push("/goals"));case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(u,p))},className:m.button},r.a.createElement(Xe.a,{color:"secondary"})))),E&&r.a.createElement(at,{goal:t,onCancel:function(){O(!E)},onUpdate:l}),d&&r.a.createElement(ct,{configView:a,date:o,goal:t,tasks:d,onUpdate:l}))},st=function(e){var t=e.goals,a=e.configView,n=e.date,o=e.onUpdate;return r.a.createElement(r.a.Fragment,null,t&&t.length>0&&r.a.createElement(ie.a,{item:!0,xs:12},t.map((function(e,t){return r.a.createElement(it,{key:t,goal:e,configView:a,date:n,onUpdate:o})}))))},ut=a(133),dt=a(29),mt=a(259),pt=a(131),gt=a.n(pt),bt=a(132),ft=a.n(bt),Et=a(94),Ot=Object(X.a)((function(e){return Object(Y.a)({button:{padding:e.spacing(2)}})}));function ht(e){var t=e.date,a=e.onChange,n=t,o=Ot(),l=function(e){var n=Object(Et.a)(t,e);a(n)};return r.a.createElement(dt.a,{utils:ut.a},r.a.createElement(ie.a,{container:!0,justifyContent:"center",alignItems:"center"},r.a.createElement(gt.a,{className:o.button,onClick:function(){return l(-1)}}),r.a.createElement(mt.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker",label:"Date picker",value:n,onChange:function(e){a(e)},KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(ft.a,{className:o.button,onClick:function(){return l(1)}})))}var vt=Object(X.a)((function(e){return Object(Y.a)(Object(F.a)({root:{flexGrow:1,padding:10},title:{display:"flex",textAlign:"center"},goalContainer:{justifyContent:"center"},goalGroupHeader:{display:"flex",justifyContent:"center",alignItems:"center",borderRadius:4},goal:{display:"flex",alignItems:"center",borderRadius:4,padding:10},loadingPaper:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",borderRadius:"4px",height:"75vh",width:"100%",marginTop:"20px"}},e.breakpoints.down("xs"),{goal:{width:"100%",display:"flex",textAlign:"center"}}))})),jt=function(){var e=Object(c.c)((function(e){return e.goals})),t=e.goals,a=e.isLoading,o=new Date,l=Object(n.useState)(o),i=Object(h.a)(l,2),s=i[0],u=i[1],d=Object(n.useState)(o.toLocaleDateString()),m=Object(h.a)(d,2),p=m[0],g=m[1],b=vt(),f=Object(c.b)(),E=(Object(H.g)(),localStorage.getItem("profile")),O=Object(n.useState)(JSON.parse(E)),v=Object(h.a)(O,1)[0];Object(n.useEffect)((function(){var e=(v||{user:{}}).result,t=(null===e||void 0===e?void 0:e.googleId)||(null===e||void 0===e?void 0:e._id);f(Je(t))}),[v]);return r.a.createElement(ie.a,{container:!0,className:b.root,justifyContent:"center"},a?r.a.createElement(ce.a,null,r.a.createElement(qe.a,{size:"7em",color:"primary",value:100,className:b.loadingPaper})):r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{container:!0,spacing:3,className:b.goalContainer},r.a.createElement(ht,{date:s,onChange:function(e){u(e),g(e.toLocaleDateString())}}),r.a.createElement(st,{goals:t,configView:!1,date:p,onUpdate:function(e){f(Me(e))}}))))},yt=function(){var e=localStorage.getItem("profile"),t=Object(n.useState)(JSON.parse(e));return Object(h.a)(t,1)[0]?r.a.createElement(H.a,{to:"/dashboard"}):r.a.createElement(ze.a,{textAlign:"center",style:{paddingTop:40}},r.a.createElement(k.a,{variant:"h5"},"Welcome to my humble Goal Tracking application.",r.a.createElement("br",null),"Please login to view your goals and do all the things!"))},kt=Object(X.a)((function(e){return Object(Y.a)({root:{flexGrow:1},loadingPaper:{display:"flex",justifyContent:"center",alignItems:"center",height:"75vh"},title:{fontSize:14}})})),St=function(){var e=Object(c.c)((function(e){return e.goals})),t=e.goals,a=e.isLoading,o=e.updateSuccessful,l=e.deleteSuccessful,i=Object(H.g)(),s=kt(),u=Object(c.b)(),d=localStorage.getItem("profile"),m=Object(n.useState)(!1),p=Object(h.a)(m,2),g=p[0],b=p[1],f=Object(n.useState)(!1),E=Object(h.a)(f,2),O=E[0],v=E[1],j=Object(n.useState)(JSON.parse(d)),y=Object(h.a)(j,1)[0];Object(n.useEffect)((function(){o&&b(!0)}),[o]),Object(n.useEffect)((function(){l&&v(l)}),[l]),Object(n.useEffect)((function(){var e=(y||{user:{}}).result,t=(null===e||void 0===e?void 0:e.googleId)||(null===e||void 0===e?void 0:e._id);u(Je(t))}),[u,y]);var k=function(e,t){"clickaway"!==t&&(u({type:"UPDATE_GOAL_SUCCESS",payload:!1}),b(!1))},S=function(e,t){"clickaway"!==t&&(u({type:"DELETE_GOAL_SUCCESS",payload:!1}),v(!1))};return r.a.createElement(ie.a,{container:!0,spacing:3},(null===y||void 0===y?void 0:y.result)&&r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){return i.push("/addGoal")},style:{marginTop:20,marginBottom:20,marginLeft:20}},"Add goal"),a?r.a.createElement(ce.a,{elevation:6,className:s.loadingPaper},r.a.createElement(qe.a,{size:"7em",color:"primary",value:100})):r.a.createElement(st,{goals:t,configView:!0,onUpdate:function(e){u(Me(e))}}),r.a.createElement(xe.a,{open:g,autoHideDuration:6e3,onClose:k},r.a.createElement(De,{onClose:k,severity:"success"},"Edit successful")),r.a.createElement(xe.a,{open:O,autoHideDuration:6e3,onClose:S},r.a.createElement(De,{onClose:S,severity:"success"},"Delete successful")))},Ct=function(){return r.a.createElement("div",null,"UNAUTHORIZED")},wt=function(){return r.a.createElement(H.d,null,r.a.createElement(H.b,{path:"/",exact:!0,component:yt}),r.a.createElement(H.b,{path:"/dashboard",exact:!0,component:jt}),r.a.createElement(H.b,{path:"/goals",exact:!0,component:St}),r.a.createElement(H.b,{path:"/addGoal",exact:!0,component:Ke}),r.a.createElement(H.b,{path:"/editGoal/:id",exact:!0,component:Ze}),r.a.createElement(H.b,{path:"/loginUser",exact:!0,component:Ge}),r.a.createElement(H.b,{path:"/register",exact:!0,component:He}),r.a.createElement(H.b,{path:"/unauthorized",exact:!0,component:Ct}))},Nt=Object(O.a)({typography:{fontFamily:'"roboto", sans-serif',fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:700},palette:{primary:{main:"#8316e2"},secondary:{main:"#75e216"},warning:{main:"#e21675"}}}),xt=function(){return r.a.createElement(f.a,null,r.a.createElement(E.a,{theme:Nt},r.a.createElement(oe,null,r.a.createElement(wt,null))))},Tt=Object(i.d)(b,Object(i.c)(Object(i.a)(s.a)));l.a.render(r.a.createElement(c.a,{store:Tt},r.a.createElement(xt,null)),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.3909d8a2.chunk.js.map